{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","components/App.jsx","utils/api.js","index.js"],"names":["MovieItem","state","willWatch","this","props","movie","removeMovie","addMovieToWillWatch","removeMovieFromWillWatch","className","src","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","bind","React","Component","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","getClassName","sortBy","classNames","App","getMovies","fetch","page","then","response","json","data","movies","results","pagesTotal","total_pages","updateMovies","filter","item","id","updateWillWatch","moviesWillWatch","nextPage","previousPage","prevProps","prevState","map","key","length","style","textAlign","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.620e94eb.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nclass MovieItem extends React.Component {\r\n    constructor() {\r\n        super();\r\n\r\n        this.state = {\r\n            willWatch: false\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const { movie, removeMovie, addMovieToWillWatch, removeMovieFromWillWatch } = this.props\r\n        return (\r\n            <div className=\"card\">\r\n                <img\r\n                    className=\"card-img-top\"\r\n                    src={`https://image.tmdb.org/t/p/w500${movie.backdrop_path || movie.poster_path}`}\r\n                    alt=\"\"\r\n                />\r\n                <div className=\"card-body\">\r\n                    <h6 className=\"card-title\">{movie.title}</h6>\r\n                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                        <p className=\"mb-0\">Rating: {movie.vote_average}</p>\r\n                        {this.state.willWatch ? (\r\n                            <button type=\"button\" className=\"btn btn-success\" onClick={() => {\r\n                                this.setState({ willWatch: false });\r\n                                removeMovieFromWillWatch(movie);\r\n                            }}>\r\n                                Remove Will Watch\r\n                            </button>\r\n                        ) : (\r\n                            <button type=\"button\" className=\"btn btn-secondary\" onClick={() => {\r\n                                this.setState({ willWatch: true });\r\n                                addMovieToWillWatch(movie);\r\n                            }}>\r\n                                Add Will Watch\r\n                            </button>\r\n                        )}\r\n                        \r\n                    </div>\r\n                    <button onClick={removeMovie.bind(null, movie)}>Delete Movie</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default MovieItem;","import React from \"react\";\r\nimport classNames from 'classnames';\r\n\r\nclass MovieTabs extends React.Component {\r\n    shouldComponentUpdate(nextProps, nextState) {\r\n        if (nextProps.sort_by !== this.props.sort_by) {\r\n            return true\r\n        }\r\n        else {\r\n            return false\r\n        }\r\n    }\r\n    \r\n    render() {\r\n        const { sort_by, updateSortBy } = this.props;\r\n\r\n        const handleClick = value => () => {\r\n            updateSortBy(value)\r\n        }\r\n    \r\n        const getClassName = (sortBy) => {\r\n            return classNames({'nav-link': true, 'active': sort_by === sortBy})\r\n        }\r\n    \r\n        return (\r\n            <ul className=\"tabs nav nav-pills\">\r\n            <li className=\"nav-item\">\r\n                <div className={getClassName(\"popularity.desc\")} onClick={handleClick(\"popularity.desc\")}>\r\n                    Popularity desc\r\n                </div>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <div className={getClassName(\"revenue.desc\")} onClick={handleClick(\"revenue.desc\")}>\r\n                    Revenue desc\r\n                </div>\r\n            </li>\r\n            <li className=\"nav-item\">\r\n                <div className={getClassName(\"vote_average.desc\")} onClick={handleClick(\"vote_average.desc\")}>\r\n                    Vote Average desc\r\n                </div>\r\n            </li>\r\n            </ul>\r\n        )\r\n    }\r\n}\r\n\r\nexport default MovieTabs","import React from \"react\";\r\nimport MovieItem from \"./MovieItem\"\r\nimport MovieTabs from \"./MovieTabs\"\r\nimport { API_URL, API_KEY_3 } from \"../utils/api\"\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n    super();\r\n\r\n    this.state = {\r\n      movies: [],\r\n      moviesWillWatch: [],\r\n      page: 1,\r\n      pagesTotal: 1,\r\n      sort_by: \"popularity.desc\"\r\n    }\r\n\r\n    //this.removeMovie = this.removeMovie.bind(this); - if removeMovie is not '=>' function\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getMovies();\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.sort_by !== this.state.sort_by || prevState.page !== this.state.page) {\r\n      this.getMovies();\r\n    }\r\n  }\r\n\r\n  getMovies = () => {\r\n    fetch(`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page}`).then((response) => {\r\n      return response.json()\r\n    }).then((data) => {\r\n      this.setState({ movies: data.results, pagesTotal: data.total_pages })\r\n    })\r\n  }\r\n\r\n  removeMovie = (movie) => {\r\n    const updateMovies = this.state.movies.filter(function (item) {\r\n      return item.id !== movie.id;\r\n    })\r\n    this.setState({ movies: updateMovies });\r\n  }\r\n\r\n  addMovieToWillWatch = (movie) => {\r\n    const updateWillWatch = [...this.state.moviesWillWatch, movie];\r\n    this.setState({ moviesWillWatch: updateWillWatch });\r\n  }\r\n\r\n  removeMovieFromWillWatch = (movie) => {\r\n    const updateWillWatch = this.state.moviesWillWatch.filter(function (item) {\r\n      return item.id !== movie.id;\r\n    });\r\n    this.setState({ moviesWillWatch: updateWillWatch });\r\n  }\r\n\r\n  updateSortBy = value => {\r\n    this.setState({\r\n      page: 1,\r\n      sort_by: value\r\n    })\r\n  }\r\n\r\n  nextPage = () => {\r\n    this.setState({\r\n      page: this.state.page + 1\r\n    })\r\n  }\r\n\r\n  previousPage = () => {\r\n    this.setState({\r\n      page: this.state.page - 1\r\n    })\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container\">\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-9\">\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-12\">\r\n                <MovieTabs sort_by={this.state.sort_by} updateSortBy={this.updateSortBy} />\r\n              </div>\r\n            </div>\r\n            <div className=\"row\">\r\n              {this.state.movies.map((movie) => {\r\n                return (<div className=\"col-6 mb-4\" key={movie.id}>\r\n                  <MovieItem movie={movie} removeMovie={this.removeMovie} addMovieToWillWatch={this.addMovieToWillWatch} removeMovieFromWillWatch={this.removeMovieFromWillWatch} />\r\n                </div>);\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"col-3\">\r\n            <p>Will Watch: {this.state.moviesWillWatch.length}</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"row mt-4\">\r\n          <div className=\"col-9\">\r\n            <div className=\"row mb-4\">\r\n              <div className=\"col-4\" style={{textAlign: \"left\"}}>\r\n              {this.state.page > 1 ? (\r\n                  <button onClick={this.previousPage}>PREVIOUS</button>\r\n              ) : \"\"}\r\n              </div>\r\n              <div className=\"col-4\" style={{textAlign: \"center\"}}>\r\n                {this.state.page} / {this.state.pagesTotal}\r\n              </div>\r\n              <div className=\"col-4\" style={{textAlign: \"right\"}}>\r\n              {this.state.page !== this.state.pagesTotal ? (\r\n                  <button onClick={this.nextPage}>NEXT</button>\r\n              ) : \"\"}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./stylesheets/index.scss\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}